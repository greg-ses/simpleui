---
- hosts: all
  vars:
    app_config_props_file: BMSServer.properties
    copy_params_app: false
    common_web_src: /home/jscarsdale/vionx_linux/target/common/
    simpleui_derivative_folder: ../web/simple_ui.derivative/
    nodejs_port: 2080
    web_app_name: bms
    web_service_apps_list: "{{ web_app_name }},device"
  remote_user: "{{ lookup('env', 'REMOTE_WEB_USER') }}"
  tasks:
    - include_vars:
        file: commonvars.yml
    - include_vars:
        file: "{{ simpleui_root }}/deploy/common-vars.yml"
    - include_tasks:
        file: "{{ simpleui_root }}/deploy/build-derived-app-bundle.yml"
    - include_tasks:
        file: "{{ simpleui_root }}/deploy/install-derived-app-bundle.yml"
