---
- hosts: all
  vars:
    app_config_props_file: ACInverter.properties
    copy_params_app: true
    simpleui_derivative_folder: ../../ACInverter/web/simple_ui.derivative/
    nodejs_port: 2083
    web_app_name: ems
    web_service_apps_list: "{{ web_app_name }}"
  remote_user: "{{ lookup('env', 'REMOTE_WEB_USER') }}"
  tasks:
    - include_vars:
        file: commonvars.yml
    - include_vars:
        file: "{{ simpleui_root }}/deploy/common-vars.yml"
    - include_tasks:
        file: "{{ simpleui_root }}/deploy/build-derived-app-bundle.yml"
    - include_tasks:
        file: "{{ simpleui_root }}/deploy/install-derived-app-bundle.yml"
