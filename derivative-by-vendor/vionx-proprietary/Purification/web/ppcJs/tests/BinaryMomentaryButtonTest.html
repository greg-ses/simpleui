<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>BinaryMomentaryButton test</title>
    <link rel="stylesheet" type="text/css" href="../../dojo-toolkit/dojo/resources/dojo.css" />
    <link rel="stylesheet" type="text/css" href="../../dojo-toolkit/dijit/themes/soria/soria.css" />
    <link rel="stylesheet" type="text/css" href="../widget/binaryMomentaryButton/css/binaryMomentaryButton.css" />

    <script type="text/javascript">
        // initialize global variables

        // djConfig must be set before any dojo scripts are loaded
        var dojoConfig = {
            selectorEngine: 'acme',     // required for IE9
            async: true,
            isDebug: false,
            parseOnLoad: true,
            locale: 'en-us',
            baseUrl: '/',
            tlmSiblingOfDojo: false,
            packages: [
                { name: 'dojo', location: '../../../dojo-toolkit/dojo' },
                { name: 'dijit', location: '../../../dojo-toolkit/dijit' },
                { name: 'dojox', location: '../../../dojo-toolkit/dojox' },
                { name: 'dgrid', location: '../../../dojo-toolkit/dgrid' },
                { name: 'put-selector', location: '../../../dojo-toolkit/put-selector' },
                { name: 'xstyle', location: '../../../dojo-toolkit/xstyle' },
                { name: 'ppcJs', location: '../../', main: 'Enum' },
                { name: 'doh', location: '../../../dojo-toolkit/util/doh' }
            ],

            ppcServer: {
                demoMode: false,             // true= always go to static local test data
                demoLocalHost: '127.0.100'
            }
        };
    </script>

    <script type="text/javascript" src="../../dojo-toolkit/dojo/dojo.js"></script>
    <script type="text/javascript">
        require(['doh/runner', 'dojo/dom', 'dojo/_base/config', 'dojo/aspect',
            'ppcJs/widget/BinaryMomentaryButton',
            'dojo/domReady!'],
        function (doh, dom, config, aspect, BinaryMomentaryButton) {
            // register the browser test group
            doh.register("browser tests", [
                function createTest() {
                    sut = new BinaryMomentaryButton();
                    sut.placeAt(dom.byId('sutContainer'));

                    aspect.after(sut, 'onGetOptions', function (callback) {
                        var options = ['option 1', 'option 2', 'option 3'];
                        callback(options);
                    }, true);

                    aspect.after(sut, 'onAdd', function (option) {
                        console.info('Added ' + option);
                    }, true);
                }
            ]);
            doh.run();
        });
    </script>
</head>
<body class="soria">
    <!-- place to insert sut. -->
    <div id="sutContainer" style="width: 300px">
    </div>
    <div id="mouseOutArea" style="width: 300px; height: 100px">
        <br />
    </div>
</body>
</html>
