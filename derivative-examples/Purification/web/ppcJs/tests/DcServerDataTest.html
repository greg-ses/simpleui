<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>DcServerData test</title>
    <link rel="stylesheet" type="text/css" href="../../dojo-toolkit/dojo/resources/dojo.css" />
    <link rel="stylesheet" type="text/css" href="../../dojo-toolkit/dijit/themes/soria/soria.css" />
    <link rel="stylesheet" type="text/css" href="../control/dcServerData/css/dcServerData.css" />

    <script type="text/javascript">
        // djConfig must be set before any dojo scripts are loaded
        var djConfig = {
            isDebug: false,
            parseOnLoad: true,
            modulePaths: { 'ppcJs': '../../ppcJs' }
        };
    </script>

    <script type="text/javascript" src="../../dojo-toolkit/dojo/dojo.js"></script>
    <script type="text/javascript">
        dojo.provide("ppcJs.tests.DcServerDataTestHTML");
        dojo.require("dojo.parser");
        dojo.require("doh.runner");
        dojo.require("dojo.robot");

        dojo.require("ppcJs.control.DcServerData");
        dojo.require("ppcJs.control.dcServerData.dsdDto");

        var paramControlUITestTimeout = 7000;

        dojo.addOnLoad(function () {
            doh.register("ppcJs.tests.DcServerDataTest", [
                    function testUpdateDcServerDataWithLabels(t) {
                        var sutContainer = dojo.byId("sutContainer");

                        var ctorDto = new ppcJs.control.dcServerData.dsdDto.Ctor('sut', 500, true);
                        //dojo.mixin(ctorDto, { showTime: true });
                        var sut = new ppcJs.control.DcServerData(ctorDto);

                        dojo.place(sut.domNode, "sutContainer");

                        var updateDto = new ppcJs.control.dcServerData.dsdDto.Status(1.0,
                            2.0,
                            3.0,
                            4.0,
                            5.0,
                            6.0,
                            7,
                            8,
                            9,
                            1327436518000   // ms, Tue, 24 Jan 2012 20:21:58 +0000
                        );
                        sut.update(updateDto);

                        t.assertTrue(true);
                    },

                    function testUpdateDcServerDataNoLabels(t) {
                        var sutContainer = dojo.byId("sutContainer");

                        var ctorDto = new ppcJs.control.dcServerData.dsdDto.Ctor('sut', 500, false);
                        //dojo.mixin(ctorDto, { showTime: true });
                        var sut = new ppcJs.control.DcServerData(ctorDto);

                        dojo.place(sut.domNode, "sutContainer");

                        var updateDto = new ppcJs.control.dcServerData.dsdDto.Status(1.0,
                            2.0,
                            3.0,
                            4.0,
                            5.0,
                            6.0,
                            7,
                            8,
                            9,
                            1327436518000   // ms, Tue, 24 Jan 2012 20:21:58 +0000
                        );
                        sut.update(updateDto);

                        t.assertTrue(true);
                    },
                ]);
            //Execute D.O.H. in this remote file.
            doh.run();
        });
    </script>
</head>
<body class="soria">
    <!-- place to insert sut. -->
    <div id="sutContainer" style="width: 300px">
    </div>
    <div id="mouseOutArea" style="width: 300px; height: 100px">
        <br />
    </div>
</body>
</html>
