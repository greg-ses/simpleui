<?xml version="1.0" encoding="utf-8"?>
<!-- 
reference response to MAIN_SYSTEM_DATA GET command
ex: ~/cgi-bin/cgicmd?CGI=sqreader&GET=MAIN_SYSTEM_DATA&LOGLEVEL=1&GRID=0...

Additional query options:
  >> lowest level entry to include
  LOGLEVEL= {errorEnum}
  
  >> selects data set for data grid Control
  GRID= {viewEnum}


uses fixed enums where:
  
  >> used to map resource specific mode to icon representation/selection value
  >> map of allowable values is sent in main system template response
  ex: modeIconEnum: {
        Null: 0,
        Charge: 1,
        Discharge: 2,
        OffLine: 3,
        Standby: 4,
        SpecialSystemMode: 10,
        Generic: 11,
        ...
      }
  
  socEnum: {
    Discharged: 0
    Low: 1,
    Normal: 2,
  }
  
  >> used to classify event log entries
  errorEnum: {
      None: 0,
      Warn: 1,
      Fault: 2
  }
  
  >> selects data set for a Control
  viewEnum: {
      Home: 0,    // condensed home view data
      Detail: 1   // expanded detail view data
  }

allowed bool values: {<=0, 'false', 'FALSE', 'False' = false}
- mode: modeIconEnum value
- rate: charge(+)/discharge(-) rate, kW
- estop: bool
- auto: bool
- lock: bool
- fault: '' or text description of latest active fault/warning

- volt:  (avg leg voltage) float, V
  - a/b/c (leg voltage): float, V
- amp: (avg leg current) float, A
  - a/b/c (leg current): float, A

- charged/discharged
  - yesterday <yd>
  - today <td>
  - last month <lm>
  - this month <tm>
  
- subsystems:
  - acIn (AC Input status): bool, true = ok
  - contact (contactor closed): bool, true = closed
  - soc: socEnum
  - battPwr: float, kW
  - hotelPwr: float kW
-->
<mainSystemData>
  <mode>2</mode>
  <rate>-10</rate>
  <estop>0</estop>
  <auto>0</auto>
  <lock>0</lock>
  <log src="TF2kSql">
    <timestamp>1333701033667</timestamp>
    <r id="17138" time="1333701033667" err="1">
      <rs>TF2kSql</rs>
      <tp>EVENT NOTICE</tp>
      <m>Resource 4 battery low.</m>
    </r>
  </log>
  <subSystems>
    <subSys>
      <acIn>1</acIn>
      <contact>1</contact>
      <soc>2</soc>
      <battPwr>100.1</battPwr>
      <hotelPwr>10.0</hotelPwr>
    </subSys>
    <subSys>
      <acIn>1</acIn>
      <contact>1</contact>
      <soc>1</soc>
      <battPwr>100.1</battPwr>
      <hotelPwr>10.0</hotelPwr>
    </subSys>
    <subSys>
      <acIn>0</acIn>
      <contact>0</contact>
      <soc>0</soc>
      <battPwr>-1.0</battPwr>
      <hotelPwr>1.0</hotelPwr>
    </subSys>
    <subSys>
      <acIn>1</acIn>
      <contact>1</contact>
      <soc>1</soc>
      <battPwr>100.1</battPwr>
      <hotelPwr>10.0</hotelPwr>
    </subSys>
  </subSystems>
</mainSystemData>